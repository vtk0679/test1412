(this.webpackJsonptest1412=this.webpackJsonptest1412||[]).push([[0],{11:function(e,t,n){e.exports={header:"Header_header__2Vqy0",container:"Header_container__2CgiQ",mainNav:"Header_mainNav__1k28I",navLink:"Header_navLink__M-faG",addButton:"Header_addButton__3WXDf"}},12:function(e,t,n){e.exports={cart:"Cart_cart__1BeRV",imgThumb:"Cart_imgThumb__3RB7G",img:"Cart_img__2zQCd",description:"Cart_description__go7Tv",title:"Cart_title__350rH"}},20:function(e,t,n){e.exports={controls:"Controls_controls__3x3S3",button:"Controls_button__1l3Kh"}},21:function(e,t,n){e.exports={container:"Favorites_container__1nHup",list:"Favorites_list__oQxZ3",item:"Favorites_item__2Sbdk"}},42:function(e,t,n){e.exports={container:"RandomRecipe_container__9z49n"}},48:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(18),i=n.n(r),s=n(15),o=(n(48),n(27)),d=n(10),l=n(2),u=n(11),j=n.n(u),b=n(1);function m(e){var t=e.onOpenModal;return Object(b.jsx)("header",{className:j.a.header,children:Object(b.jsxs)("div",{className:j.a.container,children:[Object(b.jsxs)("nav",{className:j.a.mainNav,children:[Object(b.jsx)(s.b,{className:j.a.navLink,to:"/",children:"Random dish"}),Object(b.jsx)(s.b,{className:j.a.navLink,to:"favorites",children:"Favorites"})]}),Object(b.jsx)("button",{onClick:t,className:j.a.addButton,children:"Add custom dish"})]})})}var h=n(41),_=n(8),v=n.n(_),p=document.querySelector("#modal-root");function O(e){var t=e.handleClose,n=e.handleAdd,c=Object(a.useState)(""),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(""),u=Object(d.a)(l,2),j=u[0],m=u[1];Object(a.useEffect)((function(){return window.addEventListener("keydown",_),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",_),document.body.style.overflow="visible"}}),[]);var _=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(b.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&t()},className:v.a.overlay,children:Object(b.jsxs)("div",{className:v.a.modalCart,children:[Object(b.jsx)("h2",{className:v.a.title,children:"Add custom dish"}),Object(b.jsxs)("div",{className:v.a.inputs,children:[Object(b.jsx)("input",{onChange:function(e){var t=e.nativeEvent.data;o((function(e){return e+t}))},className:v.a.name,placeholder:"Dish title"}),Object(b.jsx)("textarea",{onChange:function(e){var t=e.nativeEvent.data;m((function(e){return e+t}))},className:v.a.descr,placeholder:"Dish description..."}),Object(b.jsx)("button",{onClick:function(){0!==s.length?0!==j.length?(n({name:s,description:j,id:Object(h.v4)()}),t()):alert("Please add recipe description"):alert("Please add recipe title")},className:v.a.add,children:"Add custom dish"})]})]})}),p)}var f=n(12),x=n.n(f),N=n.p+"static/media/Placeholder.0ee1dc9b.jpg";function k(e){var t=e.recipe,n=t.name,a=t.description,c=t.img;return Object(b.jsxs)("div",{className:x.a.cart,children:[Object(b.jsx)("div",{className:x.a.imgThumb,children:Object(b.jsx)("img",{className:x.a.img,src:c||N,alt:"Foto of: ".concat(n)})}),Object(b.jsx)("h2",{className:x.a.title,children:n}),Object(b.jsx)("p",{className:x.a.description,children:a})]})}var g=n(20),C=n.n(g);function S(e){var t=e.onSkip,n=e.onLike;return Object(b.jsxs)("div",{className:C.a.controls,children:[Object(b.jsx)("button",{className:C.a.button,onClick:t,children:"Skip"}),Object(b.jsx)("button",{className:C.a.button,onClick:n,children:"Like"})]})}var w=n(42),y=n.n(w);function M(e){var t=e.recipe,n=e.onSkip,a=e.onLike;return Object(b.jsxs)("div",{className:y.a.container,children:[Object(b.jsx)(k,{recipe:t}),Object(b.jsx)(S,{onSkip:n,onLike:function(){return a(t)}})]})}var L=n(21),E=n.n(L);function H(e){var t=e.meals;return Object(b.jsx)("div",{className:E.a.container,children:Object(b.jsx)("ul",{className:E.a.list,children:t.map((function(e){return Object(b.jsx)("li",{className:E.a.item,children:Object(b.jsx)(k,{recipe:e})},e.id)}))})})}var A=n(25),T=n.n(A),B=n(43),R=n(26),F=n.n(R);F.a.defaults.baseURL="https://www.themealdb.com/api/json/v1/1";var I=function(){var e=Object(B.a)(T.a.mark((function e(){var t,n,a,c,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/random.php").then((function(e){return e}));case 3:return t=e.sent,n=t.data.meals[0],a=n.idMeal,c=n.strMeal,r=n.strInstructions,i=n.strMealThumb,e.abrupt("return",{id:a,name:c,description:r,img:i});case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();var J=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),i=Object(d.a)(r,2),s=i[0],u=i[1],j=Object(a.useState)(!1),h=Object(d.a)(j,2),_=h[0],v=h[1];Object(a.useEffect)((function(){p();var e=JSON.parse(localStorage.getItem("meals"));e&&c(e)}),[]),Object(a.useEffect)((function(){localStorage.setItem("meals",JSON.stringify(n))}),[n]);var p=function(){I().then((function(e){return u(e)}))};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{onOpenModal:function(){v(!0)}}),_&&Object(b.jsx)(O,{handleClose:function(){v(!1)},handleAdd:function(e){c((function(t){return[].concat(Object(o.a)(t),[e])}))}}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",exact:!0,children:Object(b.jsx)(M,{onSkip:p,onLike:function(e){n.some((function(t){return t.id===e.id}))||c((function(t){return[].concat(Object(o.a)(t),[e])}))},recipe:s})}),Object(b.jsx)(l.a,{path:"/favorites",children:Object(b.jsx)(H,{meals:n})})]})]})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(J,{})})}),document.getElementById("root"))},8:function(e,t,n){e.exports={overlay:"Modal_overlay__2sam_",modalCart:"Modal_modalCart__14oic",title:"Modal_title__1kHcw",name:"Modal_name__1Kut-",descr:"Modal_descr__10X7t",add:"Modal_add__JX0dA",inputs:"Modal_inputs__2YT84"}}},[[76,1,2]]]);
//# sourceMappingURL=main.8efdd699.chunk.js.map